$(document).ready((function(){ajaxCallBack("nav.json"),ajaxCallBack("products.json"),ajaxCallBack("categories.json"),ajaxCallBack("brands.json"),ajaxCallBack("sort.json"),ajaxCallBack("reviews.json"),setTimeout((function(){var t=getLS("nav"),e=getLS("products"),a=getLS("categories"),n=getLS("brands"),i=getLS("sort");let s="";for(const e of t)s+=`\n\t\t\t<li class="nav-item px-3">\n\t\t\t\t<a aria-current="page" href="${e.link}">${e.name}</a>\n\t\t\t</li>\n\t\t\t`;if($("#responsive-nav>.main-nav").html(s),$(".menu-toggle > a").on("click",(function(t){t.preventDefault(),$("#responsive-nav").toggleClass("active")})),"/tehnotron/index.html"==location.pathname||"/tehnotron/"==location.pathname){$("#responsive-nav ul li:nth-child(1)").addClass("active");let t="";for(const e of a)t+=`\n\t\t\t\t\t\t<div class="col-md-3 p-md-0 p-4">\n\t\t\t\t\t\t\t<div class="shop">\n\t\t\t\t\t\t\t\t<a href="store.html?cat=${e.id}">\n\t\t\t\t\t\t\t\t\t<div class="shop-img">\n\t\t\t\t\t\t\t\t\t\t<img src="assets/img/shop0${e.id}.png" alt="collections" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="shop-body">\n\t\t\t\t\t\t\t\t\t\t<h3>${e.name}<br>Collection</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`;$("#collections").html(t);var r=e.filter((t=>1==t.is_new));$("#new-products .swiper .swiper-wrapper").html(getProducts(r,"product swiper-slide")),setInterval((function(){makeTimer()}),1e3)}else if("/tehnotron/store.html"==location.pathname){$("#responsive-nav ul li:nth-child(2)").addClass("active"),$("#store>#store-products").html(getProducts(e,"product col-lg-4 col-sm-6 my-3"));let t="";t='<option value="0">Recommended</option>';for(const e of i)t+=`<option value="${e.value}">${e.name}</option>`;$("#ddlSort").html(t),$("#ddlSort").on("change",productsFilterAndSort);let s="";s+=`\n\t\t\t\t\t<div class="input-radio form-check">\n\t\t\t\t\t\t<input class="form-check-input" type="radio" id="rb0" name="rbCat" value="0" checked>\n\t\t\t\t\t\t<label class="form-check-label" for="rb0">\n\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\tAll\n\t\t\t\t\t\t\t<small>(${e.length})</small>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t`;for(const t of a)s+=`\n\t\t\t\t\t<div class="input-radio form-check">\n\t\t\t\t\t\t<input class="form-check-input" type="radio" id="rb${t.id}" name="rbCat" value="${t.id}">\n\t\t\t\t\t\t<label class="form-check-label" for="rb${t.id}">\n\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t${t.name}\n\t\t\t\t\t\t\t<small>(${getNum(e,t.id,"category")})</small>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t`;$("#rbListCategory").html(s),$('#rbListCategory input[type="radio"]').on("change",productsFilterAndSort);let r="";for(const t of n)r+=`\n\t\t\t\t\t<div class="input-checkbox form-check">\n\t\t\t\t\t\t<input class="form-check-input" type="checkbox" id="chb${t.id}" value="${t.id}">\n\t\t\t\t\t\t<label for="chb${t.id}">\n\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t${t.name}\n\t\t\t\t\t\t\t<small>(${getNum(e,t.id,"brand")})</small>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t`;$("#chbListBrands").html(r),$('#chbListBrands input[type="checkbox"]').on("change",productsFilterAndSort),$("#range-value").html($("#rPrice").val()+" ?"),$("#rPrice").on("input",(function(){$("#range-value").html($(this).val()+" ?"),productsFilterAndSort()})),$("#store-grid-cells").on("click",(function(){$(this).addClass("active"),$("#store-grid-list").removeClass("active"),productsFilterAndSort()})),$("#store-grid-list").on("click",(function(){$(this).addClass("active"),$("#store-grid-cells").removeClass("active"),productsFilterAndSort()}));const o=new URLSearchParams(window.location.search).get("cat");if(null!=o){$("#rbListCategory input")[o].checked=!0;var c=e.filter((t=>t.category_id==o));$("#store>#store-products").html(getProducts(c,"product col-lg-4 col-sm-6 my-3"))}}else if("/tehnotron/product.html"==location.pathname)getProductPage(e),$("#product-imgs img").on("click",(function(){let t=$(this).attr("src");t=t.slice(0,-5)+t.slice(-4),console.log(t),$("#product-main-img .product-preview img").attr("src",t)}));else if("/tehnotron/checkout.html"==location.pathname){getOrderItems(e),$(document).on("change",".order-qty",(function(){let t=$(this);console.log($(this).data("id")),console.log(t.val());for(const e of l)if(t.data("id")==e.id){e.quantity=parseInt(t.val());break}setLS("cart",l),getOrderItems(e)}));var o=document.querySelector("#form-submit");o&&o.addEventListener("click",formValidation);var l=getLS("cart");$(document).on("click",".trash",(function(t){t.preventDefault,l.splice(l.findIndex((t=>t.id==$(this).data("id"))),1),setLS("cart",l),getCartNum(),getOrderItems(e)}))}else"/tehnotron/author.html"==location.pathname&&$("#responsive-nav ul li:nth-child(6)").addClass("active");$(document).on("click",".add-to-cart-btn",addToCart),getCartNum(),$(".wishlist").on("click",(function(){$("#wishlist-tab").show(),$("#wishlist-tab").addClass("active")}));var d;$(document).on("click",".add-to-wishlist",addToWishlist),getWishNum(),d=getLS("wishlist"),$("#wishlist-tab-content").html(getWishlistProducts(d)),$("#close-tab").on("click",(function(){$("#wishlist-tab").removeClass("active")})),$("#header-search button").on("click",(function(){setLS("search-temp",$("#search").val()),"/tehnotron/store.html"!=location.pathname?window.location.pathname="/tehnotron/store.html":productsFilterAndSort()})),$("#search").keypress((function(t){"13"==(t.keyCode?t.keyCode:t.which)?(setLS("search-temp",$("#search").val()),"/tehnotron/store.html"!=location.pathname&&(window.location.pathname="/tehnotron/store.html")):productsFilterAndSort()})),$("#search").val(getLS("search-temp")),productsFilterAndSort(),localStorage.removeItem("search-temp"),$("[type='number']").on("keydown",(function(t){$(window).width()>767&&t.preventDefault()}));let u="";for(const t of a)u+=`<li><a href="store.html?cat=${t.id}">${t.name}</a></li>`;$("#footer-cats").html(u),$("#loader").hide()}),1500)}));var errors,swiper=new Swiper(".swiper",{slidesPerView:1,autoplay:{delay:3e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{576:{slidesPerView:2,spaceBetween:30},768:{slidesPerView:3,spaceBetween:40},992:{slidesPerView:4,spaceBetween:40}}});function ajaxCallBack(t){$.ajax({url:"assets/data/"+t,method:"get",dataType:"json",success:function(e){setLS(t=t.substring(0,t.length-5),e)},error:function(t,e){return 0===t.status?"Not connected. Verify network.":404==t.status?"Requested page not found [404]":500==t.status?"Internal Server Error [500]":"parseerror"===e?"Requested JSON parse failed.":"timeout"===e?"Requested page not found [404]":"abort"===e?"AJAX request aborted.":"Uncaught Error."+t.responseText}})}function setLS(t,e){localStorage.setItem(t,JSON.stringify(e))}function getLS(t){return JSON.parse(localStorage.getItem(t))}function getCategory(t){var e=getLS("categories");for(const a of e)if(a.id==t)return a.name}function getProducts(t,e){let a="";if(0==t.length)return'<div class="text-center border-top border-bottom py-5" id="no-products"><i class="fa-regular fa-circle-xmark fs-1"></i><p class="fs-3 my-5">Currently we don\'t have products that match your request.</p></div>';if($("#store-grid-list").hasClass("active"))for(const n of t)a+=`\n\t\t\t\t<div class="${e}">\n\t\t\t\t\t<div class="row align-items-center">\n\t\t\t\t\t\t<div class="product-img col-4">\n\t\t\t\t\t\t<a href="product.html?id=${n.id}"><img src="${n.images[0].big}" alt="${n.name}" class="w-100" /></a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="product-body col-8">\n\t\t\t\t\t\t\t<p class="product-category">${getCategory(n.category_id)}</p>\n\t\t\t\t\t\t\t<h3 class="product-name"><a href="product.html?id=${n.id}">${n.name}</a></h3>\n\t\t\t\t\t\t\t<p>${n.description.short.substring(0,200)+"..."}</p>\n\t\t\t\t\t\t\t<h3 class="product-price">${getPrice(n.price.current_price,"current")} ${getPrice(n.price.old_price,"old")}</h3>\n\t\t\t\t\t\t\t<div class="my-2">\n\t\t\t\t\t\t\t\t<button class="add-to-cart-btn" data-id="${n.id}"><i class="fa fa-shopping-cart"></i> add to cart</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="product-rating fs-5">\n\t\t\t\t\t\t\t\t${getRating(n.rating)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="product-btns fs-5">\n\t\t\t\t\t\t\t\t${getIfWish(n.id)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="product-label me-4">\n\t\t\t\t\t\t\t\t${getDiscount(n.discount)}\n\t\t\t\t\t\t\t\t${getNew(n.is_new)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;else for(const n of t)a+=`\n\t\t\t\t<div class="${e}">\n\t\t\t\t\t<div class="product-img">\n\t\t\t\t\t\t<a href="product.html?id=${n.id}"><img src="${n.images[0].big}" alt="${n.name}" class="w-100" /></a>\n\t\t\t\t\t\t<div class="add-to-cart">\n\t\t\t\t\t\t\t<button class="add-to-cart-btn" data-id="${n.id}"><i class="fa fa-shopping-cart"></i> add to cart</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="product-label">\n\t\t\t\t\t\t\t${getDiscount(n.discount)}\n\t\t\t\t\t\t\t${getNew(n.is_new)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="product-body">\n\t\t\t\t\t\t<p class="product-category">${getCategory(n.category_id)}</p>\n\t\t\t\t\t\t<h3 class="product-name"><a href="product.html?id=${n.id}">${n.name}</a></h3>\n\t\t\t\t\t\t<h5 class="product-price">${getPrice(n.price.current_price,"current")} ${getPrice(n.price.old_price,"old")}</h5>\n\t\t\t\t\t\t<div class="product-rating">\n\t\t\t\t\t\t\t${getRating(n.rating)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="product-btns">\n\t\t\t\t\t\t\t${getIfWish(n.id)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;return a}function getPrice(t,e){return"current"==e?t=t.toLocaleString("de-DE",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}):"old"==e?null==t?"":`<del class="product-old-price">${t=t.toLocaleString("de-DE",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2})}</del>`:void 0}function getDiscount(t){return null==t?"":`<span class="sale">-${t}%</span>`}function getNew(t){return t?'<span class="new fw-bold">NEW</span>':""}function getRating(t){let e="";for(let a=0;a<t;a++)e+='<i class="fa-solid fa-star"></i>';if(t<5)for(let a=0;a<5-t;a++)e+='<i class="fa-regular fa-star"></i>';return e}function makeTimer(){var t=new Date("2023-03-31");t=Date.parse(t)/1e3;var e=new Date,a=t-(e=Date.parse(e)/1e3),n=Math.floor(a/86400),i=Math.floor((a-86400*n)/3600),s=Math.floor((a-86400*n-3600*i)/60),r=Math.floor(a-86400*n-3600*i-60*s);i<"10"&&(i="0"+i),s<"10"&&(s="0"+s),r<"10"&&(r="0"+r),$("#days").html(n),$("#hours").html(i),$("#minutes").html(s),$("#seconds").html(r)}function getNum(t,e,a){return a+="_id",t.filter((t=>t[a]==e)).length}function getProductPage(t){const e=new URLSearchParams(window.location.search).get("id"),a=t.find((t=>t.id==e));productContentHTML=`\n\t\t<div class="col-md-2">\n\t\t\t<div id="product-imgs">\n\t\t\t\t${getThumbnails(a.images)}\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="col-md-5">\n\t\t\t<div id="product-main-img">\n\t\t\t\t<div class="product-preview">\n\t\t\t\t\t<img src="${a.images[0].big}" alt="">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="col-md-5">\n\t\t\t<div class="product-details">\n\t\t\t\t<h2 class="product-name">${a.name}</h2>\n\t\t\t\t<div>\n\t\t\t\t\t<div class="product-rating">\n\t\t\t\t\t\t${getRating(a.rating)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<a class="review-link" href="#product-tab">${a.review_ids.length} Review(s)</a>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<h3 class="product-price">${getPrice(a.price.current_price,"current")} ${getPrice(a.price.old_price,"old")}</h3>\n\t\t\t\t\t<span class="product-available">In Stock</span>\n\t\t\t\t</div>\n\t\t\t\t<p>${a.description.short}</p>\n\n\t\t\t\t<div class="add-to-cart d-flex align-items-end my-4">\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="quantity" class="form-label mb-2">Quantity</label>\n\t\t\t\t\t\t<input type="number" class="form-control" id="quantity" value="1" min="1" max="10" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<button class="add-to-cart-btn btn btn-primary" data-id="${a.id}"><i class="fa fa-shopping-cart"></i> add to cart</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="product-btns ms-5 fs-3">\n\t\t\t\t\t\t${getIfWish(a.id)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<ul class="product-links mt-4">\n\t\t\t\t\t<li>Category:</li>\n\t\t\t\t\t<li><a href="store.html?cat=${a.category_id}">${getCategory(a.category_id)}</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="col-md-12">\n\t\t\t<div id="product-tab">\n\t\t\t\t<ul class="tab-nav nav nav-tabs justify-content-center" role="tablist">\n\t\t\t\t\t<li class="nav-item active" role="presentation"><a class="active" data-bs-toggle="tab" data-bs-target="#tab1">Specifications</a></li>\n\t\t\t\t\t<li role="presentation"><a data-bs-toggle="tab" data-bs-target="#tab2">Details</a></li>\n\t\t\t\t\t<li role="presentation"><a data-bs-toggle="tab" data-bs-target="#tab3">Reviews (3)</a></li>\n\t\t\t\t</ul>\n\t\t\t\t<div class="tab-content">\n\t\t\t\t\t<div id="tab1" class="tab-pane fade show active" role="tabpanel">\n\t\t\t\t\t\t<div class="row justify-content-center">\n\t\t\t\t\t\t<h3 class="title text-uppercase text-center text-decoration-underline mb-3">Specifications</h3>\n\t\t\t\t\t\t\t${getSpecs(a.specifications)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id="tab2" class="tab-pane fade" role="tabpanel">\n\t\t\t\t\t\t<div class="row justify-content-center">\n\t\t\t\t\t\t\t<div class="col-md-8">\n\t\t\t\t\t\t\t<h3 class="title text-uppercase text-center text-decoration-underline mb-3">Details</h3>\n\t\t\t\t\t\t\t\t${a.description.long}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id="tab3" class="tab-pane fade" role="tabpanel">\n\t\t\t\t\t\t<div class="row justify-content-center align-items-center">\n\t\t\t\t\t\t\t<div class="col-md-8">\n\t\t\t\t\t\t\t\t<div id="reviews">\n\t\t\t\t\t\t\t\t<h3 class="title text-uppercase text-center text-decoration-underline mb-3">Reviews</h3>\n\t\t\t\t\t\t\t\t\t${getReview(a.review_ids)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t`,$("#product-content>.row").html(productContentHTML)}function getThumbnails(t){let e="";for(const a of t)e+=`\n\t\t\t<div class="product-preview my-2">\n\t\t\t\t<img src="${a.small}" alt="thumbnail" />\n\t\t\t</div>\n\t\t`;return e}function getSpecs(t){let e='<div class="col-md-8"><table class="table table-striped table-hover"><tbody>';for(const a of t)e+=`\n\t\t\t<tr>\n\t\t\t\t<td class="text-capitalize p-3">${a.name}:</td>\n\t\t\t\t<td class="p-3">${a.value}</td>\n\t\t\t</tr>\n\t\t`;return e+="</tbody></table></div>",e}function getReview(t){let e='<ul class="reviews">';var a=getLS("reviews");for(const i of t){var n=a.find((t=>t.id==i));e+=`\n\t\t\t<li>\n\t\t\t\t<div class="review-heading">\n\t\t\t\t\t<h6 class="name">${n.name}</h6>\n\t\t\t\t\t<p class="date">${new Date(n.date).toDateString()}</p>\n\t\t\t\t\t<div class="review-rating">\n\t\t\t\t\t\t${getRating(n.rating)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="review-body">\n\t\t\t\t\t<p>${n.review_text}</p>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t`}return e+="</ul>",e}function productsFilter(t,e){let a,n=[];switch(e){case"category":return a=$('#rbListCategory input[type="radio"]:checked').val(),"0"==a?t:(n=t.filter((t=>t.category_id==a)),n);case"brand":let e=$('#chbListBrands input[type="checkbox"]:checked').map((function(){return $(this).val()}));return 0==e.length?t:(t.filter((t=>{for(const a of e)t.brand_id==a&&n.push(t)})),n);case"search":return a=$("#search").val(),""==a?t:(n=t.filter((t=>t.name.toLowerCase().includes(a.toLowerCase()))),n);case"price":return a=$("#rPrice").val(),"3000"==a?t:(n=t.filter((t=>t.price.current_price<=a)),n);default:return t}}function productsSort(t){switch($("#ddlSort").val()){case"price-asc":t.sort(((t,e)=>t.price.current_price-e.price.current_price));break;case"price-desc":t.sort(((t,e)=>e.price.current_price-t.price.current_price));break;case"a-z":t.sort(((t,e)=>t.name.localeCompare(e.name)));break;case"z-a":t.sort(((t,e)=>e.name.localeCompare(t.name)))}return t}function productsFilterAndSort(){let t=getLS("products");t=productsFilter(t,"search"),t=productsFilter(t,"category"),t=productsFilter(t,"brand"),t=productsFilter(t,"price"),t=productsSort(t),$("#store-grid-list").hasClass("active")?$("#store>#store-products").html(getProducts(t,"product col-12 my-3")):$("#store>#store-products").html(getProducts(t,"product col-lg-4 col-sm-6 my-3"))}function addToCart(){let t=$(this).data("id");if(cartItems=getLS("cart"),"/tehnotron/product.html"==location.pathname){let e=parseInt($("#quantity").val());if(null==cartItems)cartItems=[{id:t,quantity:e}];else if(cartItems.some((e=>e.id==t)))for(const e of cartItems)e.id==t&&(e.quantity+=1);else cartItems.push({id:t,quantity:e})}else if(null==cartItems)cartItems=[{id:t,quantity:1}];else if(cartItems.some((e=>e.id==t)))for(const e of cartItems)e.id==t&&(e.quantity+=1);else cartItems.push({id:t,quantity:1});setLS("cart",cartItems),getCartNum()}function getCartNum(){var t=getLS("cart");null==t||0==t.length?$("#cartQty").addClass("d-none"):($("#cartQty").html(t.length),$("#cartQty").removeClass("d-none"))}function getOrderItems(t){var e=getLS("cart");let a=[],n="";if(null==e||0==e.length)$(".order-details").html('\n\t\t\t<div class="d-flex flex-column h-100 justify-content-between py-5">\n\t\t\t\t<div class="section-title text-center">\n\t\t\t\t<div class="text-center py-5">\n\t\t\t\t\t<i class="fa-regular fa-circle-xmark fs-1"></i>\n\t\t\t\t</div>\n\t\t\t\t\t<h3 class="title">your cart is empty.</h3>\n\t\t\t\t</div>\n\t\t\t\t<a href="store.html" class="primary-btn order-submit" id="go-back">go back to store</a>\n\t\t\t</div>\n\t\t'),$("#form-checkout input, #form-checkout textarea").prop("disabled",!0),$("#disabled-form").removeClass("d-none");else{for(const n of e)for(const e of t)n.id!=e.id||a.push(e);let i=0;for(let t=0;t<a.length;t++)n+=`\n\t\t\t\t<div class="row align-items-center border-bottom position-relative mb-2">\n\t\t\t\t\t<div class="col-md-2 text-center">\n\t\t\t\t\t\t<img src="${a[t].images[0].small}" alt="${a[t].name}" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="col-2 text-center">\n\t\t\t\t\t\t<input type="number" class="order-qty" value="${e[t].quantity}" data-id="${a[t].id}" min="1" max="10" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="col-md-5 col-10"><a href="/tehnotron/product.html?id=${a[t].id}">${a[t].name}</a></div>\n\t\t\t\t\t<div class="col-md-3 text-end">${e[t].quantity} x ${a[t].price.current_price} ?</div>\n\t\t\t\t\t<a class="position-absolute top-0 end-0 w-auto trash" data-id="${a[t].id}"><i class="fa-solid fa-trash-can"></i></a>\n\t\t\t\t</div>\n\t\t\t`,i+=e[t].quantity*a[t].price.current_price;const s=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});$("#order-total").html(s.format(i)+" ?")}$("#order-products").html(n)}function addToWishlist(){var t=getLS("products");let e=$(this).data("id");var a=getLS("wishlist");null==a?(a=[]).push(t.find((t=>t.id==e))):a.some((t=>t.id==e))?a.splice(a.findIndex((t=>t.id==$(this).data("id"))),1):a.push(t.find((t=>t.id==e))),$(this).toggleClass("active"),$(this).hasClass("active")?$(this).html('<i class="fa-solid fa-heart"></i>'):$(this).html('<i class="fa-regular fa-heart"></i>'),setLS("wishlist",a),$("#wishlist-tab-content").html(getWishlistProducts(a)),getWishNum()}function getWishNum(){var t=getLS("wishlist");null==t||0==t.length?$("#wishQty").addClass("d-none"):($("#wishQty").html(t.length),$("#wishQty").removeClass("d-none"))}function getWishlistProducts(t){let e="";if(null==t||0==t.length)return'<div class="text-center border-top border-bottom py-5 text-uppercase" id="empty"><i class="fa-regular fa-circle-xmark fs-1"></i><p class="fs-3 my-5">your wishlist is empty.</p></div>';for(const a of t)e+=`\n\t\t\t<div class="product col-12">\n\t\t\t\t<div class="row align-items-center border-bottom m-3">\n\t\t\t\t\t<div class="product-img col-lg-4 p-0 d-flex justify-content-center">\n\t\t\t\t\t\t<img src="${a.images[0].big}" alt="${a.name}" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="product-body col-lg-8">\n\t\t\t\t\t\t<h3 class="product-name fs-5"><a href="product.html?id=${a.id}">${a.name}</a></h3>\n\t\t\t\t\t\t<h3 class="product-price fs-4">${getPrice(a.price.current_price,"current")} ${getPrice(a.price.old_price,"old")}</h3>\n\t\t\t\t\t\t<div class="my-2">\n\t\t\t\t\t\t\t<button class="add-to-cart-btn" data-id="${a.id}"><i class="fa fa-shopping-cart"></i> add to cart</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="product-btns fs-5">\n\t\t\t\t\t\t\t<button class="add-to-wishlist" data-id="${a.id}"><i class="fa-solid fa-heart-circle-xmark"></i></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;return e}function getIfWish(t){var e=getLS("wishlist");return null==e?`<button class="add-to-wishlist" data-id="${t}"><i class="fa-regular fa-heart"></i></button>`:e.find((e=>e.id==t))?`<button class="add-to-wishlist active" data-id="${t}"><i class="fa-solid fa-heart"></i></button>`:`<button class="add-to-wishlist" data-id="${t}"><i class="fa-regular fa-heart"></i></button>`}function formValidation(){let t,e,a,n,i,s,r,c,o,l;errors=0,t=document.querySelector("#fname"),e=document.querySelector("#lname"),a=document.querySelector("#email"),n=document.querySelector("#address"),i=document.querySelector("#phone"),s=document.querySelector("#terms"),formPayments=document.getElementsByName("payment"),r=/^[A-Z?????][a-z?????]{2,14}$/,c=/^[a-z0-9+_.-]+@[a-z0-9.-]+\.[a-z]{2,3}$/,o=/^(([A-Z?????][a-z?????]{1,15}(\.)?)|([1-9][0-9]{0,2}(\.)?))[a-zA-Z0-9\s\/\-]+$/,l=/^\+?\d{1,4}?[-.\s]?\d{1,3}?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}$/,regExValidation(t,r),regExValidation(e,r),regExValidation(a,c),regExValidation(n,o),regExValidation(i,l),s.checked?s.classList.remove("is-invalid"):(s.classList.add("is-invalid"),errors++);let d=!1;for(const t of formPayments)if(t.checked){d=!0;break}d||$(".payment-method").addClass("is-invalid"),0==errors&&($(".order-details").html('\n\t\t<div class="d-flex flex-column h-100 justify-content-between py-5">\n\t\t\t<div class="section-title text-center">\n\t\t\t<div class="text-center py-5">\n\t\t\t\t<i class="fa-regular fa-circle-check fs-1" id="success-icon"></i>\n\t\t\t</div>\n\t\t\t\t<h3 class="title">order has been successfully sent.</h3>\n\t\t\t</div>\n\t\t\t<a href="store.html" class="primary-btn order-submit" id="go-back">go back to store</a>\n\t\t</div>\n\t\t'),localStorage.removeItem("cart"),getCartNum(),document.getElementById("form-checkout").reset())}function regExValidation(t,e){e.test(t.value)?t.classList.remove("is-invalid"):(t.classList.add("is-invalid"),errors++)}